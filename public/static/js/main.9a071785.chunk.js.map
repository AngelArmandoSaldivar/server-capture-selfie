{"version":3,"sources":["img/contorno1.png","App.js","index.js"],"names":["ImageCropper","upImg","setUpImg","useState","imgRef","useRef","webcamRef","show","setShow","show2","setShow2","show3","setShow3","show4","setShow4","dataSelfie","setDataSelfie","selfieCrop","setSelfieCrop","unit","x","y","width","height","aspect","crop","setCrop","croppedImage","setCroppedImage","showOverlay","setShowOverlay","src","setSrc","cropWidth","setCropWidth","cropHeight","setCropHeight","cropX","setCropX","cropY","setCropY","token","setToken","carga","setCarga","onSelectFile","process","CLIENT_ID","CLIENT_SECRET","useCallback","e","current","getScreenshot","reader","FileReader","fileDetail","Uint8Array","Uint32Array","file","File","lastModified","Date","type","readAsDataURL","onLoad","img","getCroppedImg","Promise","resolve","reject","image","Image","onload","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","toBlob","blob","onloadend","concat","result","onerror","error","pruebaVida","async","ineBack","replace","RegExp","ineFront","selfie","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","console","log","fetch","then","response","text","catch","estilos","contenedor","border","textAlign","backgroundColor","fontFamily","join","padding","boxSizing","color","botonFoto","margin","justifyContent","alignItems","borderRadius","transition","botonFotoHover","titulo","fontSize","fontWeight","subtitulo","textoGeneral","lineHeight","recuadroPunteadoInterno","position","top","left","transform","pointerEvents","maxWidth","maxHeight","imagenOvalada","webcamContenedor","marginBottom","overflow","webcam","imagenRecortada","boxShadow","cropContainer","display","buttonContainer","flexDirection","gap","_jsxs","className","style","children","colorTexto","length","_Fragment","_jsx","Webcam","videoConstraints","facingMode","audio","ref","screenshotFormat","ovaloPunteadoInterno","ovalImage","alt","marginLeft","Button","component","role","undefined","variant","tabIndex","startIcon","CameraIcon","onClick","ReactCrop","onImageLoaded","onChange","newCrop","onComplete","ContentCutIcon","croppedImageUrl","makeClientCrop","ReplayIcon","ocultarPasoUno","ocultarPasoTres","pop","CheckCircleOutlineIcon","pasoSiguiente","rootElement","getElementById","ReactDOM","render","App"],"mappings":"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","file":"static/js/main.9a071785.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/contorno1.71e4b493.png\";","import React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport ReactCrop from 'react-image-crop';\r\nimport Webcam from 'react-webcam';\r\n\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Button from '@mui/material/Button';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardHeader from '@mui/material/CardHeader';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport IconButton, { IconButtonProps } from '@mui/material/IconButton';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\r\nimport { styled } from '@mui/material/styles';\r\nimport CameraIcon from '@mui/icons-material/Camera';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';//Siguiente\r\nimport ContentCutIcon from '@mui/icons-material/ContentCut'; //Tijeras\r\nimport ReplayIcon from '@mui/icons-material/Replay'; //Volver\r\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';//Check Continuar\r\nimport ovalImage from './img/contorno1.png';\r\n\r\nconst ImageCropper = () => {\r\n\r\n  const [upImg, setUpImg] = useState();\r\n  const imgRef = useRef(null);  \r\n  const webcamRef = useRef(null);    \r\n  const [show, setShow] = useState(true);\r\n  const [show2, setShow2] = useState(false);\r\n  const [show3, setShow3] = useState(false);\r\n  const [show4, setShow4] = useState(false);\r\n  const [dataSelfie, setDataSelfie] = useState([]);\r\n  const [selfieCrop, setSelfieCrop] = useState({ unit: '%', x: 27, y: 10, width: 50, height: 80, aspect: 3 / 4 });\r\n  const [crop, setCrop] = useState({ unit: '%', x: 20, y: 30, width: 75, height: 40, aspect: 3 / 2 });  const [croppedImage, setCroppedImage] = useState('null');\r\n  const [showOverlay, setShowOverlay] = useState(true);\r\n  const [src, setSrc] = useState(null);\r\n  const [cropWidth, setCropWidth] = useState('');\r\n  const [cropHeight, setCropHeight] = useState('');\r\n  const [cropX, setCropX] = useState('');\r\n  const [cropY, setCropY] = useState('');\r\n  const [token, setToken] = useState(null);\r\n  const [carga, setCarga] = useState('');\r\n\r\n  //VARIABLES DE ENTORNO\r\n  const clientId = process.env.CLIENT_ID;\r\n  const clientSecret = process.env.CLIENT_SECRET;\r\n\r\n\r\n  const onSelectFile = useCallback((e) => {\r\n    if (webcamRef.current.getScreenshot()) {\r\n      setCrop({ unit: '%', x: 20, y: 30, width: 60, height: 40, aspect: 3 / 2 }); \r\n      const reader = new FileReader();      \r\n      setSrc(webcamRef.current.getScreenshot());\r\n      setUpImg(webcamRef.current.getScreenshot());\r\n\r\n      const fileDetail = [\r\n        '',\r\n        new Uint8Array([10]),\r\n        new Uint32Array([2]),\r\n      ];\r\n      const file = new File(\r\n      [fileDetail], 'file.png',\r\n      {lastModified: new Date(2022, 0, 5), type: ''});\r\n      reader.readAsDataURL(file);\r\n      setShow(!show);\r\n      setShow2(!show2);\r\n      setShowOverlay(false);\r\n    }\r\n  }, [webcamRef]);\r\n\r\n  const onLoad = useCallback((img) => {\r\n    imgRef.current = img;\r\n  }, []);  \r\n\r\n  const onCropComplete = (crop) => {    \r\n    setCropX(crop.x);\r\n    setCropY(crop.y);\r\n    setCropWidth(crop.width);\r\n    setCropHeight(crop.height);    \r\n  };\r\n\r\n  var makeClientCrop = async (crop) => {\r\n    if (src && cropWidth && cropHeight) {\r\n      crop.width = cropWidth;\r\n      crop.height = cropHeight;  \r\n      crop.x = cropX;\r\n      crop.y = cropY;    \r\n      const croppedImageUrl = await getCroppedImg(src, crop);\r\n      setCroppedImage(croppedImageUrl);\r\n    }\r\n  }; \r\n\r\n  const getCroppedImg = (src, crop) => {\r\n    \r\n    return new Promise((resolve, reject) => {      \r\n      const image = new Image();\r\n      image.src = src;      \r\n      image.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const scaleX = image.naturalWidth / image.width;      \r\n        const scaleY = image.naturalHeight / image.height;\r\n        canvas.width = crop.width;\r\n        canvas.height = crop.height;\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        ctx.drawImage(\r\n          image,\r\n          crop.x * scaleX,\r\n          crop.y * scaleY,\r\n          crop.width * scaleX,\r\n          crop.height * scaleY,\r\n          0,\r\n          0,\r\n          crop.width,\r\n          crop.height\r\n        );\r\n\r\n        canvas.toBlob((blob) => {\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(blob);\r\n          reader.onloadend = () => {   \r\n            //console.log(\"SRC: \" + reader.result);  \r\n            setDataSelfie(dataSelfie.concat(reader.result));\r\n            resolve(reader.result);\r\n          };\r\n        }, 'image/jpeg');\r\n        setShow2(!show2);\r\n        setShow3(!show3)\r\n      };      \r\n      image.onerror = (error) => {\r\n        reject(error);\r\n      };\r\n    });\r\n  };\r\n\r\n  var ocultarPasoUno = () => {\r\n    setShow(!show);\r\n    setShow2(!show2);\r\n    setShowOverlay(true);\r\n    if(show3 == true) {\r\n      return dataSelfie.length > 0 ? dataSelfie = [] : '';\r\n    }    \r\n  }\r\n\r\n  var ocultarPasoTres = () => {\r\n    setShow3(!show3);\r\n    setShow(!show);\r\n    setShowOverlay(true);\r\n\r\n    dataSelfie.pop();    \r\n  }\r\n\r\n  var pasoSiguiente = () => {\r\n    setShow3(!show3);\r\n    setShow(!show); \r\n    setShowOverlay(true);   \r\n    setCrop({ x: 70, y: 50, width: 220, height: 250 });\r\n\r\n    if(dataSelfie.length == 3) {\r\n      setShow(false);\r\n      setShow2(false);\r\n      setShow3(false);\r\n      setShow4(!show4);      \r\n      pruebaVida(dataSelfie);\r\n    }\r\n  }\r\n\r\n  var pruebaVida = async (dataSelfie) => {\r\n\r\n    //************\r\n    //************\r\n    //Verificador de Documentos (Prueba de vida).\r\n\r\n    var ineBack = dataSelfie[0].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\r\n    var ineFront = dataSelfie[1].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\r\n    var selfie = dataSelfie[2].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\r\n\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    const raw = JSON.stringify({      \r\n      \"ineFront\": ineBack,\r\n      \"ineBack\": ineFront,\r\n      \"selfie\": selfie\r\n    });\r\n    \r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: \"follow\"\r\n    };\r\n\r\n    console.log(\"FOTOS: \" + raw);\r\n\r\n    setCarga(\"Verificación facial en curso \\n Espera un momento...\")    \r\n    //fetch(\"localhost:5000/app/verificacion\", requestOptions)\r\n    \r\n    fetch(\"https://server-capture-selfie-d4c65bd43858.herokuapp.com/app/verificacion\", requestOptions)\r\n    .then((response) => response.text())\r\n    .then((result) => {\r\n      console.log(\"RESULT: \" + result);\r\n      setCarga(\"Data: \" + result);\r\n      /*if(result != 'El customer fue registrado') {\r\n        setCarga(\"No se pudo verificar tu identidad 🙁\")\r\n      } else {\r\n        setCarga(\"Verificación de identidad exitosa 🙂\")\r\n      }*/\r\n    })\r\n    .catch((error) => console.error(error));\r\n\r\n  }\r\n\r\n  const estilos = {\r\n    contenedor: {\r\n      width: '100%',\r\n      border: '1px solid black',\r\n      textAlign: 'center',\r\n      backgroundColor: '#c0c0c0', \r\n      fontFamily: ['Open Sans', 'Helvetica', 'sans-serif'].join(','),\r\n      padding: '20px',\r\n      boxSizing: 'border-box',\r\n      color: '#333',\r\n    },\r\n    botonFoto: {\r\n      color: 'white',\r\n      border: '1px solid #007BFF',\r\n      backgroundColor: '#007BFF',\r\n      margin: '10px',\r\n      width: '200px',\r\n      height: '50px',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      borderRadius: '5px',\r\n      transition: 'background-color 0.3s ease',\r\n    },\r\n    botonFotoHover: {\r\n      backgroundColor: '#0056b3',\r\n      border: '1px solid white',\r\n      margin: '10px 0',\r\n    },\r\n    titulo: {\r\n      fontSize: '1.5em',\r\n      fontWeight: 'bold',\r\n      margin: '10px 0',\r\n      backgroundColor: '#007BFF', \r\n      color: 'white', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n      '@media (maxWidth: 768px)': {\r\n        fontSize: '1.5em',\r\n      }\r\n    },\r\n    subtitulo: {\r\n      fontSize: '1.5em',\r\n      margin: '10px 0',\r\n      backgroundColor: '#007BFF', \r\n      color: 'white', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n      '@media (maxWidth: 768px)': {\r\n        fontSize: '1.2em',\r\n      },\r\n      margin: '10px 0',\r\n      backgroundColor: '#007BFF', \r\n      color: 'white', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n    },\r\n    textoGeneral: {\r\n      fontSize: '1em',\r\n      lineHeight: '1.5',\r\n      margin: '10px 0',\r\n      backgroundColor: 'rgba(255, 255, 255, 0.😎', \r\n      color: '#333', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n      '@media (maxWidth: 768px)': {\r\n        fontSize: '1em',\r\n      },\r\n    },\r\n    recuadroPunteadoInterno: {\r\n      border: '2px dashed white', \r\n      position: 'absolute',\r\n      width: '75%',\r\n      height: '40%',\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      pointerEvents: 'none',\r\n      maxWidth: '80%',\r\n      maxHeight: '60%',\r\n    },\r\n    imagenOvalada: {\r\n      position: 'absolute',\r\n      width: '90%', // Aumentar tamaño\r\n      height: '100%', // Aumentar tamaño\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      pointerEvents: 'none',\r\n      maxWidth: '100%', // Ajuste máximo\r\n      maxHeight: '100%', // Ajuste máximo\r\n    },\r\n    '@media (min-width: 769px) and (maxWidth: 1024px)': {\r\n      width: '85vw',\r\n      height: '95vh',\r\n    },\r\n    '@media (min-width: 1025px)': {\r\n      width: '90vw',\r\n      height: '100vh',\r\n  },\r\n    webcamContenedor: {\r\n      position: 'relative',\r\n      width: '100%',\r\n      height: 'auto',\r\n      marginBottom: '20px',\r\n      borderRadius: '10px',\r\n      overflow: 'hidden',\r\n    },\r\n    webcam: {\r\n      width: '100%',\r\n      height: 'auto',\r\n      borderRadius: '10px',\r\n    },\r\n    imagenRecortada: {\r\n      width: '100%',\r\n      height: 'auto',\r\n      maxWidth: '100%',\r\n      maxHeight: '500px',\r\n      borderRadius: '10px',\r\n      boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\r\n    },\r\n    cropContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      height: 'auto',\r\n      margin: '0 auto',\r\n      borderRadius: '10px',\r\n      overflow: 'hidden',\r\n      boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\r\n    },\r\n    buttonContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'column', \r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      gap: '.5px', \r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className='App' style={estilos.contenedor}>\r\n      {show && (\r\n        <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n          {dataSelfie.length === 0 && (\r\n            <>\r\n              <h1 style={estilos.titulo}>Identificacion parte Delantera</h1><br />\r\n              <p>Coloca tu documento de identidad dentro del recuadro para realizar la captura.</p>\r\n            </>\r\n          )}\r\n          {dataSelfie.length === 1 && (\r\n            <>\r\n              <h1 style={estilos.titulo}>Identificacion parte Trasera</h1><br />\r\n              <p>Coloca tu documento de identidad dentro del recuadro para realizar la captura.</p>\r\n            </>\r\n          )}\r\n          {dataSelfie.length === 2 && (\r\n            <>\r\n              <h1>Tómate una Selfie</h1><br />\r\n              <p>Coloca tu rostro dentro del óvalo para realizar la captura.</p>\r\n            </>\r\n          )}\r\n  \r\n          <div style={estilos.webcamContenedor}>\r\n            <Webcam\r\n              videoConstraints={dataSelfie.length === 2 ? { facingMode: 'user' } : { facingMode: 'environment' }}\r\n              audio={false}\r\n              ref={webcamRef}\r\n              screenshotFormat='image/jpeg'\r\n              style={estilos.webcam}\r\n            />\r\n            {showOverlay && (\r\n              <div style={dataSelfie.length === 2 ? estilos.ovaloPunteadoInterno : estilos.recuadroPunteadoInterno}></div>\r\n            )}\r\n\r\n            {dataSelfie.length === 2 ? (\r\n              <img src={ovalImage} alt=\"Oval overlay\" style={estilos.imagenOvalada} />\r\n            ) : (\r\n              <div style={estilos.recuadroPunteadoInterno}></div>\r\n            )}\r\n \r\n          </div>\r\n          <span style={{ marginLeft: '0px' }}></span>\r\n          <center> <Button\r\n            component='label'\r\n            role={undefined}\r\n            variant='outlined'\r\n            tabIndex={-1}\r\n            startIcon={<CameraIcon />}\r\n            style={estilos.botonFoto}\r\n            onClick={onSelectFile}\r\n          >\r\n            Tomar foto\r\n          </Button></center>\r\n        </div>\r\n      )}\r\n  \r\n      {show2 && (\r\n        <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n          <h1 style={{ ...estilos.titulo, ...estilos.colorTexto }}>Recortar foto</h1>\r\n          <span style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n            Recorta la foto del documento para obtener un mejor resultado.\r\n          </span><br /><br />\r\n          <div style={estilos.cropContainer}>\r\n            <ReactCrop\r\n              src={upImg}\r\n              crop={dataSelfie.length === 2 ? selfieCrop : crop}\r\n              onImageLoaded={onLoad}\r\n              onChange={(newCrop) => dataSelfie.length === 2 ? setSelfieCrop(newCrop) : setCrop(newCrop)}\r\n              onComplete={onCropComplete}\r\n              style={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\r\n              />\r\n          </div>\r\n          <center>\r\n          <Button\r\n            component='label'\r\n            role={undefined}\r\n            variant='outlined'\r\n            tabIndex={-1}\r\n            startIcon={<ContentCutIcon />}\r\n            style={estilos.botonFoto}\r\n            onClick={() => makeClientCrop(dataSelfie.length === 2 ? selfieCrop : crop)}\r\n            >\r\n            Recortar Foto\r\n          </Button></center>\r\n          <span style={{ marginLeft: '0px' }}></span>\r\n          <center>\r\n          <Button\r\n            component='label'\r\n            role={undefined}\r\n            variant='outlined'\r\n            tabIndex={-1}\r\n            startIcon={<ReplayIcon />}\r\n            style={estilos.botonFoto}\r\n            onClick={ocultarPasoUno}\r\n          >\r\n            Repetir foto\r\n          </Button></center>\r\n        </div>\r\n    )}\r\n  \r\n      {show3 && (\r\n        <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n          <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n            <h2 style={estilos.titulo}>Foto capturada</h2>\r\n            <span style={estilos.textoGeneral}>\r\n              Verifique la foto recortada\r\n            </span>\r\n            <img alt='Crop' style={estilos.imagenRecortada} src={croppedImage} />\r\n          </div>\r\n          <div>\r\n          <center><Button\r\n              component='label'\r\n              role={undefined}\r\n              variant='outlined'\r\n              tabIndex={-1}\r\n              startIcon={<ReplayIcon />}\r\n              style={estilos.botonFoto}\r\n              onClick={ocultarPasoTres}\r\n            >\r\n              Repetir foto\r\n              <span style={{ marginLeft: '0px' }}></span>\r\n            </Button></center>\r\n            <span style={{ marginLeft: '0px' }}></span>\r\n            <center><Button\r\n              component='label'\r\n              role={undefined}\r\n              variant='outlined'\r\n              tabIndex={-1}\r\n              startIcon={<CheckCircleOutlineIcon />}\r\n              style={estilos.botonFoto}\r\n              onClick={pasoSiguiente}\r\n            >\r\n              Continuar\r\n            </Button></center>\r\n          </div>\r\n        </div>\r\n      )}\r\n  \r\n      {show4 && (\r\n        <div style={{ ...estilos.contenedor, ...estilos.colorTexto }}>\r\n          <h1 style={estilos.titulo}>{carga}</h1>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n   \r\n};\r\nexport default ImageCropper;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nimport './styles.css';\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}