{"version":3,"sources":["img/contorno1.png","App.js","index.js"],"names":["ImageCropper","upImg","setUpImg","useState","imgRef","useRef","webcamRef","show","setShow","show2","setShow2","show3","setShow3","show4","setShow4","dataSelfie","setDataSelfie","crop","setCrop","unit","x","y","width","height","aspect","croppedImage","setCroppedImage","showOverlay","setShowOverlay","src","setSrc","cropWidth","setCropWidth","cropHeight","setCropHeight","cropX","setCropX","cropY","setCropY","token","setToken","carga","setCarga","onSelectFile","process","CLIENT_ID","CLIENT_SECRET","useCallback","e","current","getScreenshot","reader","FileReader","fileDetail","Uint8Array","Uint32Array","file","File","lastModified","Date","type","readAsDataURL","onLoad","img","getCroppedImg","Promise","resolve","reject","image","Image","onload","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","toBlob","blob","onloadend","concat","result","onerror","error","pruebaVida","async","ineBack","replace","RegExp","ineFront","selfie","myHeaders","Headers","append","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","text","console","log","catch","estilos","contenedor","border","textAlign","backgroundColor","fontFamily","join","padding","boxSizing","color","botonFoto","margin","justifyContent","alignItems","borderRadius","transition","botonFotoHover","titulo","fontSize","fontWeight","subtitulo","textoGeneral","lineHeight","recuadroPunteadoInterno","position","top","left","transform","pointerEvents","maxWidth","maxHeight","imagenOvalada","webcamContenedor","marginBottom","overflow","webcam","imagenRecortada","boxShadow","cropContainer","display","_jsxs","className","style","children","colorTexto","length","_Fragment","_jsx","Webcam","videoConstraints","facingMode","audio","ref","screenshotFormat","ovaloPunteadoInterno","ovalImage","alt","Button","component","role","undefined","variant","tabIndex","startIcon","CameraIcon","onClick","ReactCrop","onImageLoaded","onChange","newCrop","onComplete","ContentCutIcon","croppedImageUrl","makeClientCrop","marginLeft","ReplayIcon","ocultarPasoUno","ocultarPasoTres","pop","CheckCircleOutlineIcon","pasoSiguiente","rootElement","getElementById","ReactDOM","render","App"],"mappings":"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","file":"static/js/main.7bb789f2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/contorno1.71e4b493.png\";","import React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport ReactCrop from 'react-image-crop';\r\nimport Webcam from 'react-webcam';\r\n\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Button from '@mui/material/Button';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardHeader from '@mui/material/CardHeader';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport IconButton, { IconButtonProps } from '@mui/material/IconButton';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\r\nimport { styled } from '@mui/material/styles';\r\nimport CameraIcon from '@mui/icons-material/Camera';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';//Siguiente\r\nimport ContentCutIcon from '@mui/icons-material/ContentCut'; //Tijeras\r\nimport ReplayIcon from '@mui/icons-material/Replay'; //Volver\r\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';//Check Continuar\r\nimport ovalImage from './img/contorno1.png';\r\n\r\nconst ImageCropper = () => {\r\n\r\n  const [upImg, setUpImg] = useState();\r\n  const imgRef = useRef(null);  \r\n  const webcamRef = useRef(null);    \r\n  const [show, setShow] = useState(true);\r\n  const [show2, setShow2] = useState(false);\r\n  const [show3, setShow3] = useState(false);\r\n  const [show4, setShow4] = useState(false);\r\n  const [dataSelfie, setDataSelfie] = useState([]);\r\n  const [crop, setCrop] = useState({ unit: '%', x: 20, y: 30, width: 60, height: 40, aspect: 3 / 2 });\r\n  const [croppedImage, setCroppedImage] = useState('null');\r\n  const [showOverlay, setShowOverlay] = useState(true);\r\n  const [src, setSrc] = useState(null);\r\n  const [cropWidth, setCropWidth] = useState('');\r\n  const [cropHeight, setCropHeight] = useState('');\r\n  const [cropX, setCropX] = useState('');\r\n  const [cropY, setCropY] = useState('');\r\n  const [token, setToken] = useState(null);\r\n  const [carga, setCarga] = useState('');\r\n\r\n  //VARIABLES DE ENTORNO\r\n  const clientId = process.env.CLIENT_ID;\r\n  const clientSecret = process.env.CLIENT_SECRET;\r\n\r\n\r\n  const onSelectFile = useCallback((e) => {\r\n    if (webcamRef.current.getScreenshot()) {\r\n      setCrop({ unit: '%', x: 20, y: 30, width: 60, height: 40, aspect: 3 / 2 }); \r\n      const reader = new FileReader();      \r\n      setSrc(webcamRef.current.getScreenshot());\r\n      setUpImg(webcamRef.current.getScreenshot());\r\n\r\n      const fileDetail = [\r\n        '',\r\n        new Uint8Array([10]),\r\n        new Uint32Array([2]),\r\n      ];\r\n      const file = new File(\r\n      [fileDetail], 'file.png',\r\n      {lastModified: new Date(2022, 0, 5), type: ''});\r\n      reader.readAsDataURL(file);\r\n      setShow(!show);\r\n      setShow2(!show2);\r\n      setShowOverlay(false);\r\n    }\r\n  }, [webcamRef]);\r\n\r\n  const onLoad = useCallback((img) => {\r\n    imgRef.current = img;\r\n  }, []);  \r\n\r\n  const onCropComplete = (crop) => {    \r\n    setCropX(crop.x);\r\n    setCropY(crop.y);\r\n    setCropWidth(crop.width);\r\n    setCropHeight(crop.height);    \r\n  };\r\n\r\n  var makeClientCrop = async (crop) => {\r\n    if (src && cropWidth && cropHeight) {\r\n      crop.width = cropWidth;\r\n      crop.height = cropHeight;  \r\n      crop.x = cropX;\r\n      crop.y = cropY;    \r\n      const croppedImageUrl = await getCroppedImg(src, crop);\r\n      setCroppedImage(croppedImageUrl);\r\n    }\r\n  }; \r\n\r\n  const getCroppedImg = (src, crop) => {\r\n    \r\n    return new Promise((resolve, reject) => {      \r\n      const image = new Image();\r\n      image.src = src;      \r\n      image.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const scaleX = image.naturalWidth / image.width;      \r\n        const scaleY = image.naturalHeight / image.height;\r\n        canvas.width = crop.width;\r\n        canvas.height = crop.height;\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        ctx.drawImage(\r\n          image,\r\n          crop.x * scaleX,\r\n          crop.y * scaleY,\r\n          crop.width * scaleX,\r\n          crop.height * scaleY,\r\n          0,\r\n          0,\r\n          crop.width,\r\n          crop.height\r\n        );\r\n\r\n        canvas.toBlob((blob) => {\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(blob);\r\n          reader.onloadend = () => {   \r\n            //console.log(\"SRC: \" + reader.result);  \r\n            setDataSelfie(dataSelfie.concat(reader.result));\r\n            resolve(reader.result);\r\n          };\r\n        }, 'image/jpeg');\r\n        setShow2(!show2);\r\n        setShow3(!show3)\r\n      };      \r\n      image.onerror = (error) => {\r\n        reject(error);\r\n      };\r\n    });\r\n  };\r\n\r\n  var ocultarPasoUno = () => {\r\n    setShow(!show);\r\n    setShow2(!show2);\r\n    setShowOverlay(true);\r\n    if(show3 == true) {\r\n      return dataSelfie.length > 0 ? dataSelfie = [] : '';\r\n    }    \r\n  }\r\n\r\n  var ocultarPasoTres = () => {\r\n    setShow3(!show3);\r\n    setShow(!show);\r\n    setShowOverlay(true);\r\n\r\n    dataSelfie.pop();    \r\n  }\r\n\r\n  var pasoSiguiente = () => {\r\n    setShow3(!show3);\r\n    setShow(!show); \r\n    setShowOverlay(true);   \r\n    setCrop({ x: 70, y: 50, width: 220, height: 250 });\r\n\r\n    if(dataSelfie.length == 3) {\r\n      setShow(false);\r\n      setShow2(false);\r\n      setShow3(false);\r\n      setShow4(!show4);      \r\n      pruebaVida(dataSelfie);\r\n    }\r\n  }\r\n\r\n  var pruebaVida = async (dataSelfie) => {\r\n\r\n    //************\r\n    //************\r\n    //Verificador de Documentos (Prueba de vida).\r\n\r\n    var ineBack = dataSelfie[0].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\r\n    var ineFront = dataSelfie[1].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\r\n    var selfie = dataSelfie[2].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\r\n\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    const raw = JSON.stringify({      \r\n      \"ineFront\": ineBack,\r\n      \"ineBack\": ineFront,\r\n      \"selfie\": selfie\r\n    });\r\n    \r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: raw\r\n    };\r\n\r\n    setCarga(\"Verificación facial en curso \\n Espera un momento...\")\r\n\r\n    fetch(\"https://server-capture-selfie-d4c65bd43858.herokuapp.com/app/verificacion\", requestOptions)\r\n    .then((response) => response.text())\r\n    .then((result) => {\r\n      console.log(\"RESPONSE: \" + result);\r\n    })\r\n    .catch((error) => console.error(error));\r\n  }\r\n\r\n  const estilos = {\r\n    contenedor: {\r\n      width: '100%',\r\n      border: '1px solid black',\r\n      textAlign: 'center',\r\n      backgroundColor: '#c0c0c0', \r\n      fontFamily: ['Open Sans', 'Helvetica', 'sans-serif'].join(','),\r\n      padding: '20px',\r\n      boxSizing: 'border-box',\r\n      color: '#333',\r\n    },\r\n    botonFoto: {\r\n      color: 'white',\r\n      border: '1px solid #007BFF',\r\n      backgroundColor: '#007BFF',\r\n      margin: '10px',\r\n      width: '200px',\r\n      height: '50px',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      borderRadius: '5px',\r\n      transition: 'background-color 0.3s ease',\r\n    },\r\n    botonFotoHover: {\r\n      backgroundColor: '#0056b3',\r\n      border: '1px solid white',\r\n      margin: '10px 0',\r\n    },\r\n    titulo: {\r\n      fontSize: '1.5em',\r\n      fontWeight: 'bold',\r\n      margin: '10px 0',\r\n      backgroundColor: '#007BFF', \r\n      color: 'white', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n      '@media (max-width: 768px)': {\r\n        fontSize: '1.5em',\r\n      }\r\n    },\r\n    subtitulo: {\r\n      fontSize: '1.5em',\r\n      margin: '10px 0',\r\n      backgroundColor: '#007BFF', \r\n      color: 'white', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n      '@media (max-width: 768px)': {\r\n        fontSize: '1.2em',\r\n      },\r\n      margin: '10px 0',\r\n      backgroundColor: '#007BFF', \r\n      color: 'white', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n    },\r\n    textoGeneral: {\r\n      fontSize: '1em',\r\n      lineHeight: '1.5',\r\n      margin: '10px 0',\r\n      backgroundColor: 'rgba(255, 255, 255, 0.8)', \r\n      color: '#333', \r\n      padding: '10px',\r\n      borderRadius: '5px',\r\n      '@media (max-width: 768px)': {\r\n        fontSize: '1em',\r\n      },\r\n    },\r\n    recuadroPunteadoInterno: {\r\n      border: '2px dashed white', \r\n      position: 'absolute',\r\n      width: '60%',\r\n      height: '40%',\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      pointerEvents: 'none',\r\n      maxWidth: '80%',\r\n      maxHeight: '60%',\r\n    },\r\n    imagenOvalada: {\r\n      position: 'absolute',\r\n      width: '90%', // Aumentar tamaño\r\n      height: '100%', // Aumentar tamaño\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      pointerEvents: 'none',\r\n      maxWidth: '1000%', // Ajuste máximo\r\n      maxHeight: '100%', // Ajuste máximo\r\n    },\r\n    '@media (min-width: 769px) and (max-width: 1024px)': {\r\n      width: '85vw',\r\n      height: '95vh',\r\n    },\r\n    '@media (min-width: 1025px)': {\r\n      width: '90vw',\r\n      height: '100vh',\r\n  },\r\n    webcamContenedor: {\r\n      position: 'relative',\r\n      width: '100%',\r\n      height: 'auto',\r\n      marginBottom: '20px',\r\n      borderRadius: '10px',\r\n      overflow: 'hidden',\r\n    },\r\n    webcam: {\r\n      width: '100%',\r\n      height: 'auto',\r\n      borderRadius: '10px',\r\n    },\r\n    imagenRecortada: {\r\n      width: '100%',\r\n      height: 'auto',\r\n      maxWidth: '100%',\r\n      maxHeight: '500px',\r\n      borderRadius: '10px',\r\n      boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\r\n    },\r\n    cropContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      height: 'auto',\r\n      margin: '0 auto',\r\n      borderRadius: '10px',\r\n      overflow: 'hidden',\r\n      boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className='App' style={estilos.contenedor}>\r\n      {show && (\r\n        <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n          {dataSelfie.length === 0 && (\r\n            <>\r\n              <h1 style={estilos.titulo}>Camara Trasera</h1><br />\r\n              <p>Coloca tu documento de identidad dentro del recuadro para realizar la captura.</p>\r\n            </>\r\n          )}\r\n          {dataSelfie.length === 1 && (\r\n            <>\r\n              <h1 style={estilos.titulo}>Camara Delantera</h1><br />\r\n              <p>Coloca tu documento de identidad dentro del recuadro para realizar la captura.</p>\r\n            </>\r\n          )}\r\n          {dataSelfie.length === 2 && (\r\n            <>\r\n              <h1>Tómate una Selfie</h1><br />\r\n              <p>Coloca tu rostro dentro del óvalo para realizar la captura.</p>\r\n            </>\r\n          )}\r\n  \r\n          <div style={estilos.webcamContenedor}>\r\n            <Webcam\r\n              videoConstraints={dataSelfie.length === 2 ? { facingMode: 'user' } : { facingMode: 'environment' }}\r\n              audio={false}\r\n              ref={webcamRef}\r\n              screenshotFormat='image/jpeg'\r\n              style={estilos.webcam}\r\n            />\r\n            {showOverlay && (\r\n              <div style={dataSelfie.length === 2 ? estilos.ovaloPunteadoInterno : estilos.recuadroPunteadoInterno}></div>\r\n            )}\r\n\r\n            {dataSelfie.length === 2 ? (\r\n              <img src={ovalImage} alt=\"Oval overlay\" style={estilos.imagenOvalada} />\r\n            ) : (\r\n              <div style={estilos.recuadroPunteadoInterno}></div>\r\n            )}\r\n \r\n          </div><br /><br />\r\n          <center> <Button\r\n            component='label'\r\n            role={undefined}\r\n            variant='outlined'\r\n            tabIndex={-1}\r\n            startIcon={<CameraIcon />}\r\n            style={estilos.botonFoto}\r\n            onClick={onSelectFile}\r\n          >\r\n            Tomar foto\r\n          </Button></center><br /><br />\r\n        </div>\r\n      )}\r\n  \r\n      {show2 && (\r\n        <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n          <h1 style={{ ...estilos.titulo, ...estilos.colorTexto }}>Recortar foto</h1>\r\n          <span style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n            Recorta la foto del documento para obtener un mejor resultado.\r\n          </span><br /><br />\r\n          <div style={estilos.cropContainer}>\r\n            <ReactCrop\r\n              src={upImg}\r\n              crop={crop}\r\n              onImageLoaded={onLoad}\r\n              onChange={(newCrop) => setCrop(newCrop)}\r\n              onComplete={onCropComplete}\r\n              style={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\r\n              />\r\n          </div>\r\n          <center>\r\n          <Button\r\n            component='label'\r\n            role={undefined}\r\n            variant='outlined'\r\n            tabIndex={-1}\r\n            startIcon={<ContentCutIcon />}\r\n            style={estilos.botonFoto}\r\n            onClick={() => makeClientCrop(crop)}\r\n          >\r\n            Recortar Foto\r\n          </Button></center>\r\n          <span style={{ marginLeft: '20px' }}></span>\r\n          <center>\r\n          <Button\r\n            component='label'\r\n            role={undefined}\r\n            variant='outlined'\r\n            tabIndex={-1}\r\n            startIcon={<ReplayIcon />}\r\n            style={estilos.botonFoto}\r\n            onClick={ocultarPasoUno}\r\n          >\r\n            Repetir foto\r\n          </Button></center><br /><br />\r\n        </div>\r\n      )}\r\n  \r\n      {show3 && (\r\n        <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n          <div style={{ ...estilos.textoGeneral, ...estilos.colorTexto }}>\r\n            <h2 style={estilos.titulo}>Foto capturada</h2>\r\n            <span style={estilos.textoGeneral}>\r\n              Verifique la foto recortada\r\n              <br /><br />\r\n            </span>\r\n            <img alt='Crop' style={estilos.imagenRecortada} src={croppedImage} />\r\n          </div><br /><br />\r\n          <div>\r\n          <center><Button\r\n              component='label'\r\n              role={undefined}\r\n              variant='outlined'\r\n              tabIndex={-1}\r\n              startIcon={<ReplayIcon />}\r\n              style={estilos.botonFoto}\r\n              onClick={ocultarPasoTres}\r\n            >\r\n              Repetir foto\r\n            </Button></center>\r\n            <span style={{ marginLeft: '20px' }}></span>\r\n            <center><Button\r\n              component='label'\r\n              role={undefined}\r\n              variant='outlined'\r\n              tabIndex={-1}\r\n              startIcon={<CheckCircleOutlineIcon />}\r\n              style={estilos.botonFoto}\r\n              onClick={pasoSiguiente}\r\n            >\r\n              Continuar\r\n            </Button></center><br /><br />\r\n          </div>\r\n        </div>\r\n      )}\r\n  \r\n      {show4 && (\r\n        <div style={{ ...estilos.contenedor, ...estilos.colorTexto }}>\r\n          <h1 style={estilos.titulo}>{carga}</h1>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n   \r\n};\r\nexport default ImageCropper;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nimport './styles.css';\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}