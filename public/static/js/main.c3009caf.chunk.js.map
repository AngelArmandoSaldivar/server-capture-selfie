{"version":3,"sources":["App.js","index.js"],"names":["ImageCropper","upImg","setUpImg","useState","imgRef","useRef","crop","setCrop","x","y","width","height","webcamRef","show","setShow","show2","setShow2","show3","setShow3","show4","setShow4","dataSelfie","setDataSelfie","croppedImage","setCroppedImage","src","setSrc","cropWidth","setCropWidth","cropHeight","setCropHeight","cropX","setCropX","cropY","setCropY","token","setToken","carga","setCarga","onSelectFile","process","CLIENT_ID","CLIENT_SECRET","useCallback","e","current","getScreenshot","reader","FileReader","fileDetail","Uint8Array","Uint32Array","file","File","lastModified","Date","type","readAsDataURL","onLoad","img","getCroppedImg","Promise","resolve","reject","image","Image","onload","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","toBlob","blob","onloadend","concat","result","onerror","error","pruebaVida","async","fetch","then","response","text","console","log","ineBack","replace","RegExp","ineFront","selfie","myHeaders","Headers","append","raw","JSON","stringify","uuidv4","method","headers","body","redirect","setTimeout","requestOptions","identifier","crearCustomer","catch","customer","mode","estilos","contenedor","border","textAlign","backgroundColor","fontFamily","join","botonFoto","color","titulo","fontSize","subtitulo","textoGeneral","colorTexto","_jsxs","className","style","children","length","_Fragment","_jsx","Webcam","videoConstraints","facingMode","audio","ref","screenshotFormat","Button","component","role","undefined","variant","tabIndex","startIcon","CameraIcon","onClick","ReactCrop","onImageLoaded","onChange","c","onComplete","onCropComplete","ContentCutIcon","croppedImageUrl","marginLeft","ReplayIcon","ocultarPasoUno","alt","ocultarPasoTres","pop","CheckCircleOutlineIcon","pasoSiguiente","rootElement","getElementById","ReactDOM","render","App"],"mappings":"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","file":"static/js/main.c3009caf.chunk.js","sourcesContent":["import React, { useState, useCallback, useRef, useEffect } from 'react';\nimport ReactCrop from 'react-image-crop';\nimport Webcam from 'react-webcam';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { v4 as uuidv4 } from 'uuid';\nimport Button from '@mui/material/Button';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton, { IconButtonProps } from '@mui/material/IconButton';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport { styled } from '@mui/material/styles';\nimport CameraIcon from '@mui/icons-material/Camera';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';//Siguiente\nimport ContentCutIcon from '@mui/icons-material/ContentCut'; //Tijeras\nimport ReplayIcon from '@mui/icons-material/Replay'; //Volver\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';//Check Continuar\n\n\nconst ImageCropper = () => {\n\n  const [upImg, setUpImg] = useState();\n  const imgRef = useRef(null);  \n  const [crop, setCrop] = useState({ x: 70, y: 50, width: 220, height: 250 });  \n  const webcamRef = useRef(null);    \n  const [show, setShow] = useState(true);\n  const [show2, setShow2] = useState(false);\n  const [show3, setShow3] = useState(false);\n  const [show4, setShow4] = useState(false);\n  const [dataSelfie, setDataSelfie] = useState([]);\n  const [croppedImage, setCroppedImage] = useState('');\n  const [src, setSrc] = useState(null);\n  const [cropWidth, setCropWidth] = useState('');\n  const [cropHeight, setCropHeight] = useState('');\n  const [cropX, setCropX] = useState('');\n  const [cropY, setCropY] = useState('');\n  const [token, setToken] = useState(null);\n  const [carga, setCarga] = useState('');\n\n  //VARIABLES DE ENTORNO\n  const clientId = process.env.CLIENT_ID;\n  const clientSecret = process.env.CLIENT_SECRET;\n\n\n  const onSelectFile = useCallback((e) => {\n    if (webcamRef.current.getScreenshot()) {\n      const reader = new FileReader();      \n      setSrc(webcamRef.current.getScreenshot());\n      setUpImg(webcamRef.current.getScreenshot());\n\n      const fileDetail = [\n        '',\n        new Uint8Array([10]),\n        new Uint32Array([2]),\n      ];\n      const file = new File(\n      [fileDetail], 'file.png',\n      {lastModified: new Date(2022, 0, 5), type: ''});\n      reader.readAsDataURL(file);\n      setShow(!show);\n      setShow2(!show2);\n    }\n  }, [webcamRef]);\n\n  const onLoad = useCallback((img) => {\n    imgRef.current = img;\n  }, []);  \n\n  const onCropComplete = (crop) => {    \n    setCropX(crop.x);\n    setCropY(crop.y);\n    setCropWidth(crop.width);\n    setCropHeight(crop.height);    \n  };\n\n  var makeClientCrop = async (crop) => {\n    if (src && cropWidth && cropHeight) {\n      crop.width = cropWidth;\n      crop.height = cropHeight;  \n      crop.x = cropX;\n      crop.y = cropY;    \n      const croppedImageUrl = await getCroppedImg(src, crop);\n      setCroppedImage(croppedImageUrl);\n    }\n  }; \n\n  const getCroppedImg = (src, crop) => {\n    \n    return new Promise((resolve, reject) => {      \n      const image = new Image();\n      image.src = src;      \n      image.onload = () => {\n        const canvas = document.createElement('canvas');\n        const scaleX = image.naturalWidth / image.width;      \n        const scaleY = image.naturalHeight / image.height;\n        canvas.width = crop.width;\n        canvas.height = crop.height;\n        const ctx = canvas.getContext('2d');\n\n        ctx.drawImage(\n          image,\n          crop.x * scaleX,\n          crop.y * scaleY,\n          crop.width * scaleX,\n          crop.height * scaleY,\n          0,\n          0,\n          crop.width,\n          crop.height\n        );\n\n        canvas.toBlob((blob) => {\n          const reader = new FileReader();\n          reader.readAsDataURL(blob);\n          reader.onloadend = () => {   \n            //console.log(\"SRC: \" + reader.result);  \n            setDataSelfie(dataSelfie.concat(reader.result));\n            resolve(reader.result);\n          };\n        }, 'image/jpeg');\n        setShow2(!show2);\n        setShow3(!show3)\n      };      \n      image.onerror = (error) => {\n        reject(error);\n      };\n    });\n  };\n\n  var ocultarPasoUno = () => {\n    setShow(!show);\n    setShow2(!show2);\n    if(show3 == true) {\n      return dataSelfie.length > 0 ? dataSelfie = [] : '';\n    }    \n  }\n\n  var ocultarPasoTres = () => {\n    setShow3(!show3);\n    setShow(!show);\n    dataSelfie.pop();    \n  }\n\n  var pasoSiguiente = () => {\n    setShow3(!show3);\n    setShow(!show);    \n    setCrop({ x: 70, y: 50, width: 220, height: 250 });\n\n    if(dataSelfie.length == 3) {\n      setShow(false);\n      setShow2(false);\n      setShow3(false);\n      setShow4(!show4);      \n      pruebaVida(dataSelfie);\n    }\n  }\n\n\n  function prueba() {\n    return \"Hola\";\n  }\n  \n  // Función para generar un identificador único\n  function generarIdentificadorUnico() {\n    return uuidv4();\n  }\n\n  var pruebaVida = async (dataSelfie) => {\n\n    const token = await fetch(\"https://server-capture-selfie-b01dd8c9a312.herokuapp.com/getToken\")\n                        .then((response) => response.text());\n\n    console.log(\"TOKEN ACCESO PRUEBA VIDA: \" + token);\n\n    //**********************************************************************************************\n    //**********************************************************************************************\n    //Verificador de Documentos (Prueba de vida).\n\n    var ineBack = dataSelfie[0].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\n    var ineFront = dataSelfie[1].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\n    var selfie = dataSelfie[2].replace(new RegExp(\"data:image/jpeg;base64,\", \"gi\"), \"\");\n\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"Authorization\", \"Bearer\" + \" \" + token);\n\n    const raw = JSON.stringify({\n      \"id\": generarIdentificadorUnico(),\n      \"frontImage\": ineBack,\n      \"backImage\": ineFront,\n      \"faceImage\": selfie\n    });\n    \n    const requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: raw,\n      redirect: \"follow\"\n    };\n\n    fetch(\"https://veridocid.azure-api.net/api/id/v3/verify\", requestOptions)\n    .then((response) => response.text())\n    .then((result) => {\n      console.log(\"TOKEN 2: \" + token);\n      console.log(\"=====ENTRASTE A VERIFICACION DOCUMENTO======\");\n      console.log(\"RESULT: \" + result);\n      setCarga('Espere mientras se verifica tu información...');\n\n      setTimeout(() => {\n        const myHeaders = new Headers();\n        myHeaders.append(\"Content-Type\", \"application/json\");\n        myHeaders.append(\"Authorization\", \"Bearer\" + \" \" + token);\n\n        const raw = JSON.stringify({\n          \"uuid\": result,\n          \"includeImages\": false\n        });\n\n        const requestOptions = {\n          method: \"POST\",\n          headers: myHeaders,\n          body: raw,\n          redirect: \"follow\"\n        };        \n\n        fetch(\"https://veridocid.azure-api.net/api/id/v3/results\", requestOptions)\n          .then((response) => response.text())\n          .then((result) => {\n            if(!result.identifier) {              \n              setTimeout(() => {\n                fetch(\"https://veridocid.azure-api.net/api/id/v3/results\", requestOptions)\n                .then((response) => response.text())\n                .then((result) => {\n                  if(!result.identifier) {\n                    setTimeout(() => {\n                      fetch(\"https://veridocid.azure-api.net/api/id/v3/results\", requestOptions)\n                      .then((response) => response.text())\n                      .then((result) => {\n                        setCarga('Datos enviados con exito!');\n                        crearCustomer(result);\n                      })\n                    }, 20000);                    \n                  } else {\n                    setCarga('Datos enviados con exito!');\n                    crearCustomer(result);\n                  }\n                })\n              }, 20000);\n            } else {\n              setCarga('Datos enviados con exito!');\n              crearCustomer(result);\n            }\n          })\n          .catch((error) => console.error(error));\n      }, 20000);\n                  \n    })    \n    .catch((error) => console.error(error));\n   \n  }\n\n  function crearCustomer(customer) {\n   \n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-type\", \"application/json\");\n    myHeaders.append(\"Authorization\", \"OAuth realm=\\\"9323217\\\",oauth_consumer_key=\\\"6909223765d68229f521ae5355031e937bc39ff684ce9a38ca644f8c9929bf1a\\\",oauth_token=\\\"5e39a16ee321f9fab4d635bc694decb02b470de42e13c362d5f0f9b8a6b8b471\\\",oauth_signature_method=\\\"HMAC-SHA256\\\",oauth_timestamp=\\\"1713912081\\\",oauth_nonce=\\\"6Tu5El2vtpR\\\",oauth_version=\\\"1.0\\\",oauth_signature=\\\"WRW4XjcugcHH2ZvVCG4fvedjR38cGU48o52pw0aTC2E%3D\\\"\");\n    myHeaders.append(\"Cookie\", \"_abck=6D4A99472AEB74D57807B05C3A17AEDB~-1~YAAQT8X3vQ9lDPOOAQAASPMV+AsVpjjapbj7mcumlFM2pZPpqIkbiUbGehCqxvzPkEJWsq8yYJw9JplexuTsWQ//ihXsGyr+rDVytKoTJaqIKgVjMIHBZRG505cwIIYYG1+vE9MXYv145n/K/Jv3b71L1xG3fUJTHe6+hJuFWbKcorIQMg47R1Kd0N3SVHuzN83qR33eyVWma8XS5D5MoYGO7oKVlkE2cRoAmDkyAbgX6nBywfgLbOaEC6g8/AFU8RLiA/dPrqqpxfIzUwKji9WeSBqEAnPH6kI9hg7NpBl+DFbtdiLqLq0KmfJnwxIiPC/8iYcWBXWP/VPtzQTCfFaDn8v4Vqy+/kbjvt/l+dZtb1HT9NlI2lVAUL24jWLQSZgeP5HciwFh~-1~-1~-1\");\n\n    const raw = JSON.stringify({\n      \"nombre\": \"123\"\n    });\n\n    const requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: raw,\n      redirect: \"follow\",\n      mode: 'cors'\n    };\n\n    fetch(\"https://9323217.restlets.api.netsuite.com/app/site/hosting/restlet.nl?script=383&deploy=1&123\", requestOptions)\n      .then((response) => response.text())\n      .then((result) => console.log(result))\n      .catch((error) => console.error(error));\n\n  }\n  const estilos = { \n\n    contenedor: {\n      width: '100%',\n      border: '1px solid black',\n      textAlign: 'center',\n      backgroundColor: '#3f3c38',\n      fontFamily:\n      [\n        'Open Sans',\n        'Helvetica',\n        'sans-serif',\n      ].join(','),\n    },    \n    botonFoto: {\n      color: 'white',\n      border: '1px solid white'\n    },\n    titulo: {\n      fontSize: '12pt'\n    },\n    subtitulo: {\n      fontSize: '11pt'\n    },\n    textoGeneral: {\n      fontSize: '10pt'\n    },\n    colorTexto: {\n      color: 'white'\n    }\n  }\n\n  return (\n    <div className='App' style={estilos.contenedor}>\n      { show &&\n      \n        <div style={estilos.textoGeneral, estilos.colorTexto}>\n          {\n            dataSelfie.length == 0 && <>\n            <h1 style={estilos.titulo}>Camara Trasera</h1><br />\n\n            Coloca tu documento de identidad dentro del <br />\n            reacuadro para realizar la captura <br />\n            </>\n          }\n          {\n              dataSelfie.length == 1 &&\n              <>\n                <h1>Camara Delantera</h1><br />\n                Coloca tu documento de identidad dentro del <br />\n                reacuadro para realizar la captura <br />\n              </>\n          }   \n          {\n            dataSelfie.length == 2 &&\n            <>\n              <h1>Tómate una Selfie</h1><br />\n            Coloca tu rostro dentro del <br />\n            reacuadro para realizar la captura <br />\n            </>\n          }    \n          {/**PARA CAMBIO A CAMARA FRONTAL USAR: user   */}\n          {/**PARA CAMBIO A CAMARA TRASERA USAR: environment */}\n          \n          <Webcam\n            videoConstraints={ dataSelfie.length == 2 ? {facingMode: \"user\"} : {facingMode: \"environment\"}}\n            audio={false}\n            ref={webcamRef}\n            screenshotFormat=\"image/jpeg\"\n            style={{width: '100%', height: '500px'}}           \n          /><br /><br />\n           <Button\n            component=\"label\"\n            role={undefined}\n            variant=\"outlined\"\n            tabIndex={-1}\n            startIcon={<CameraIcon />}\n            style={estilos.botonFoto}\n            onClick={onSelectFile}\n          >\n            Tomar foto            \n          </Button><br /><br /><br /><br />\n        </div>\n      }\n      { show2 &&\n        <div style={{width: '100%', textAlign: 'center'}}>\n          <h1 style={estilos.titulo}>Recortar foto</h1>\n          <span style={estilos.textoGeneral}>          \n            Recorta la foto del documento para obtener un mejor resultado.\n          </span>\n          <br /><br />\n          <div style={{width: '100%', height: '500px'}}>\n            <ReactCrop\n              src={upImg}\n              onImageLoaded={onLoad}\n              crop={crop}              \n              onChange={(c) => setCrop(c)}\n              onComplete={(c) => {onCropComplete(c)}}              \n            />\n          </div>          \n          <Button\n            component=\"label\"\n            role={undefined}\n            variant=\"outlined\"\n            tabIndex={-1}\n            startIcon={<ContentCutIcon />}\n            style={estilos.botonFoto}\n            onClick={makeClientCrop}\n          >\n            Recortar Foto          \n          </Button>\n          <span style={{marginLeft: '20px'}}></span>\n          <Button\n            component=\"label\"\n            role={undefined}\n            variant=\"outlined\"\n            tabIndex={-1}\n            startIcon={<ReplayIcon />}\n            style={estilos.botonFoto}\n            onClick={ocultarPasoUno}\n          >\n            Repetir foto\n          </Button><br/><br/><br/><br/>\n        </div>        \n      } \n\n      { show3 &&\n        <div style={estilos.contenedor, estilos.colorTexto}>\n          <div style={{width: '100%', height: '15%'}}>\n            <h2 style={estilos.titulo}>Foto capturada</h2>\n            <span style={estilos.textoGeneral}>\n              Verifique la foto recortada\n              <br /><br />\n            </span>\n            <img alt=\"Crop\" style={{ height: '500px' }} src={croppedImage} />\n          </div><br /><br />\n          <div>\n          <Button\n            component=\"label\"\n            role={undefined}\n            variant=\"outlined\"\n            tabIndex={-1}\n            startIcon={<ReplayIcon />}\n            style={estilos.botonFoto}\n            onClick={ocultarPasoTres}\n          >\n            Repetir foto\n          </Button>\n          \n          <span style={{marginLeft: '20px'}}></span>\n            \n            <Button\n            component=\"label\"\n            role={undefined}\n            variant=\"outlined\"\n            tabIndex={-1}\n            startIcon={<CheckCircleOutlineIcon />}\n            style={estilos.botonFoto}\n            onClick={pasoSiguiente}\n          >\n            Continuar\n          </Button><br/><br/><br/><br/>            \n          </div>\n        </div>\n      }    \n\n      {\n        show4 && <>\n        <div style={estilos.contenedor, estilos.colorTexto}>\n\n          <h1 style={estilos.titulo}> {carga} </h1>\n\n        </div>          \n        </>\n      } \n    </div>\n  );\n\n  \n}\nexport default ImageCropper;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './styles.css';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}