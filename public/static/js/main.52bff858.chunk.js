(this["webpackJsonpcapture-selfie"]=this["webpackJsonpcapture-selfie"]||[]).push([[0],{77:function(e,t,o){},79:function(e,t,o){"use strict";o.r(t);var c=o(0),r=o(55),n=o.n(r),a=o(56),s=o.n(a),l=o(57),i=o.n(l),j=(o(71),o(125),o(124)),b=o(59),d=o.n(b),O=o(60),h=o.n(O),x=o(50),u=o.n(x),p=o(61),g=o.n(p),S=o(1);var m=()=>{const[e,t]=Object(c.useState)(),o=Object(c.useRef)(null),[r,n]=Object(c.useState)({x:70,y:50,width:220,height:250}),a=Object(c.useRef)(null),[l,b]=Object(c.useState)(!0),[O,x]=Object(c.useState)(!1),[p,m]=Object(c.useState)(!1),[y,f]=Object(c.useState)(!1),[v,w]=Object(c.useState)([]),[C,T]=Object(c.useState)(""),[E,F]=Object(c.useState)(null),[R,_]=Object(c.useState)(""),[I,D]=Object(c.useState)(""),[k,A]=Object(c.useState)(""),[L,H]=Object(c.useState)(""),[U,N]=Object(c.useState)(null),[P,W]=Object(c.useState)(""),z=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLIENT_ID,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLIENT_SECRET,Object(c.useCallback)((e=>{if(a.current.getScreenshot()){const e=new FileReader;F(a.current.getScreenshot()),t(a.current.getScreenshot());const o=["",new Uint8Array([10]),new Uint32Array([2])],c=new File([o],"file.png",{lastModified:new Date(2022,0,5),type:""});e.readAsDataURL(c),b(!l),x(!O)}}),[a])),K=Object(c.useCallback)((e=>{o.current=e}),[]);const B=(e,t)=>new Promise(((o,c)=>{const r=new Image;r.src=e,r.onload=()=>{const e=document.createElement("canvas"),c=r.naturalWidth/r.width,n=r.naturalHeight/r.height;e.width=t.width,e.height=t.height;e.getContext("2d").drawImage(r,t.x*c,t.y*n,t.width*c,t.height*n,0,0,t.width,t.height),e.toBlob((e=>{const t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{w(v.concat(t.result)),o(t.result)}}),"image/jpeg"),x(!O),m(!p)},r.onerror=e=>{c(e)}}));var G=e=>{fetch("http://localhost:5000/prueba",{method:"GET",redirect:"follow"}).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.error(e)))};const M={contenedor:{width:"100%",border:"1px solid black",textAlign:"center",backgroundColor:"#3f3c38",fontFamily:["Open Sans","Helvetica","sans-serif"].join(",")},botonFoto:{color:"white",border:"1px solid white"},titulo:{fontSize:"12pt"},subtitulo:{fontSize:"11pt"},textoGeneral:{fontSize:"10pt"},colorTexto:{color:"white"}};return Object(S.jsxs)("div",{className:"App",style:M.contenedor,children:[l&&Object(S.jsxs)("div",{style:M.colorTexto,children:[0==v.length&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{style:M.titulo,children:"Camara Trasera"}),Object(S.jsx)("br",{}),"Coloca tu documento de identidad dentro del ",Object(S.jsx)("br",{}),"reacuadro para realizar la captura ",Object(S.jsx)("br",{})]}),1==v.length&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"Camara Delantera"}),Object(S.jsx)("br",{}),"Coloca tu documento de identidad dentro del ",Object(S.jsx)("br",{}),"reacuadro para realizar la captura ",Object(S.jsx)("br",{})]}),2==v.length&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"T\xf3mate una Selfie"}),Object(S.jsx)("br",{}),"Coloca tu rostro dentro del ",Object(S.jsx)("br",{}),"reacuadro para realizar la captura ",Object(S.jsx)("br",{})]}),Object(S.jsx)(i.a,{videoConstraints:2==v.length?{facingMode:"user"}:{facingMode:"environment"},audio:!1,ref:a,screenshotFormat:"image/jpeg",style:{width:"100%",height:"500px"}}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(j.a,{component:"label",role:void 0,variant:"outlined",tabIndex:-1,startIcon:Object(S.jsx)(d.a,{}),style:M.botonFoto,onClick:z,children:"Tomar foto"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]}),O&&Object(S.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(S.jsx)("h1",{style:M.titulo,children:"Recortar foto"}),Object(S.jsx)("span",{style:M.textoGeneral,children:"Recorta la foto del documento para obtener un mejor resultado."}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{style:{width:"100%",height:"500px"},children:Object(S.jsx)(s.a,{src:e,onImageLoaded:K,crop:r,onChange:e=>n(e),onComplete:e=>{(e=>{A(e.x),H(e.y),_(e.width),D(e.height)})(e)}})}),Object(S.jsx)(j.a,{component:"label",role:void 0,variant:"outlined",tabIndex:-1,startIcon:Object(S.jsx)(h.a,{}),style:M.botonFoto,onClick:async e=>{if(E&&R&&I){e.width=R,e.height=I,e.x=k,e.y=L;const t=await B(E,e);T(t)}},children:"Recortar Foto"}),Object(S.jsx)("span",{style:{marginLeft:"20px"}}),Object(S.jsx)(j.a,{component:"label",role:void 0,variant:"outlined",tabIndex:-1,startIcon:Object(S.jsx)(u.a,{}),style:M.botonFoto,onClick:()=>{if(b(!l),x(!O),1==p)return v.length>0?v=[]:""},children:"Repetir foto"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]}),p&&Object(S.jsxs)("div",{style:M.colorTexto,children:[Object(S.jsxs)("div",{style:{width:"100%",height:"15%"},children:[Object(S.jsx)("h2",{style:M.titulo,children:"Foto capturada"}),Object(S.jsxs)("span",{style:M.textoGeneral,children:["Verifique la foto recortada",Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]}),Object(S.jsx)("img",{alt:"Crop",style:{height:"500px"},src:C})]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)("div",{children:[Object(S.jsx)(j.a,{component:"label",role:void 0,variant:"outlined",tabIndex:-1,startIcon:Object(S.jsx)(u.a,{}),style:M.botonFoto,onClick:()=>{m(!p),b(!l),v.pop()},children:"Repetir foto"}),Object(S.jsx)("span",{style:{marginLeft:"20px"}}),Object(S.jsx)(j.a,{component:"label",role:void 0,variant:"outlined",tabIndex:-1,startIcon:Object(S.jsx)(g.a,{}),style:M.botonFoto,onClick:()=>{m(!p),b(!l),n({x:70,y:50,width:220,height:250}),3==v.length&&(b(!1),x(!1),m(!1),f(!y),G(v))},children:"Continuar"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]})]}),y&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{style:M.colorTexto,children:Object(S.jsxs)("h1",{style:M.titulo,children:[" ",P," "]})})})]})};o(77);const y=document.getElementById("root");n.a.render(Object(S.jsx)(m,{}),y)}},[[79,1,2]]]);
//# sourceMappingURL=main.52bff858.chunk.js.map